<app-toast [message]="toast.message"></app-toast>

<div class="card card-outline-secondary">
  <div class="card-block">
    <h3 class="text-center">New Book Entry</h3>
    <hr>
    <div class="alert alert-info">
     <b>Fil All required fields !</b>
    </div>
      <form class="form" [formGroup]="createForm" (ngSubmit)="register()">
          <div class="form-group row">
            <div class="col-md-6">
              <label class="col-md-2 col-form-label">Id :</label>
              <div class="col-md-10">
                <div class="input-group">
                  <span class="input-group-addon"><i class="fa fa-list"></i></span>
                  <input class="form-control" type="text" name="id" formControlName="id" placeholder="Id" autofocus>
                </div>
              </div>
            </div>
            <div class="col-md-6">
                <label class="col-md-2 col-form-label">Title:</label>
                <div class="col-md-10">
                  <div class="input-group">
                    <span class="input-group-addon"><i class="fa fa-list"></i></span>
                    <input class="form-control" type="text" name="title" formControlName="title" placeholder="Title">
                  </div>
                </div>
            </div>
          </div>
        <div class="form-group row">
          <div class="col-md-6">
            <label class="col-md-2 col-form-label">Short_desc:</label>
            <div class="col-md-10">
              <div class="input-group">
                <span class="input-group-addon"><i class="fa fa-info"></i></span>
                <input class="form-control" type="text" name="shortdesc" formControlName="shortdesc" placeholder="Short_desc">
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <label class="col-md-2 col-form-label">Description:</label>
            <div class="col-md-10">
              <div class="input-group">
                <span class="input-group-addon"><i class="fa fa-info"></i></span>
                <input class="form-control" type="text" name="description" formControlName="description" placeholder="Description">
              </div>
            </div>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-md-6">
            <label class="col-md-2 col-form-label">Author:</label>
            <div class="col-md-10">
              <div class="input-group">
                <span class="input-group-addon"><i class="fa fa-user"></i></span>
                <input class="form-control" type="text" name="author" formControlName="author" placeholder="Author">
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <label class="col-md-2 col-form-label">Date:</label>
            <div class="col-md-10">
              <div class="input-group">
                <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                <input type="date" class="form-control" name="date" formControlName="date">
              </div>
            </div>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-md-6">
            <label class="col-md-2 col-form-label">Category:</label>
            <div class="col-md-10">
              <div class="input-group">
                <span class="input-group-addon"><i class="fa fa-caret-down"></i></span>
                <select [ngModel]="categories" class="form-control" name="category" formControlName="category" >
                  <option  *ngFor="let cat of categories" value="{{cat.name}}">{{cat.name}}</option>                  <
                </select>
              </div>
            </div>

          </div>
          <div class="col-md-6">
            <div class="col-md-3">
              <a href="" data-toggle="modal" data-target="#myModal">Add new category</a>
            </div>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-md-12">
            <div class="col-md-6">
            </div>
            <div class="col-md-3">
              <button type="submit" class="btn btn-success btn-md btn-block" [disabled]="!createForm.valid">Submit</button>
            </div>
            <div class="col-md-3">
              <button type="reset" routerLink="/books" class="btn btn-default btn-md btn-block">Cancel</button>
            </div>
          </div>
        </div>
      </form>
  </div>
</div>
<!-- Modal -->
<div class="modal fade" id="myModal" data-backdrop="static" role="dialog">
    <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title"><i class="fa fa-plus"></i>&ensp;Add Category</h4>
      </div>
      <form class="form" [formGroup]="categoryForm" (ngSubmit)="addCategory()">
      <div class="modal-body">
          <input type="text" class="form-control" name="name" formControlName="name">
      </div>
      <div class="modal-footer">
        <button type="submit" class="btn btn-success btn-sm" [disabled]="!categoryForm.valid">Submit</button>
        <button type="button" id="btnClose" class="btn btn-default btn-sm" data-dismiss="modal">Close</button>

      </div>
      </form>
    </div>
  </div>
</div>
<style>
  .card{
    border-color: green;
    box-shadow: 7px 10px green;
  }
  .col-form-label:after{
    content:"*" ;
    color:red
  }
</style>
